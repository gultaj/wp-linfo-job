jQuery(document).ready(function(a){"use strict";function c(){var b=a.trim(a("#edit_key").val());if(6==b.length){var c={action:"check_job_key",obj_id:a("#obj_id").val(),user_key:b};a("#edit_key").parent().removeClass("has-error"),a("#edit_key, #check_key").attr("disabled",!0),a.post(ajax_object.ajax_url,c,function(b){if("OK"===b){var d="vacancy"==a("#job_type").val()?"\u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e":"\u0440\u0435\u0437\u044e\u043c\u0435";confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+d+"?")?(c.action="remove_job",a.post(ajax_object.ajax_url,c,function(a){if("OK"===a){console.log(a);var b=window.location.origin+window.location.pathname.replace(/id[0-9]+\/?/gi,"");window.location.replace(b)}})):a("#edit_key, #check_key").attr("disabled",!1)}else a("#edit_key, #check_key").attr("disabled",!1),alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")})}else a("#edit_key").parent().addClass("has-error");return!1}function d(b){var c=[],d=["title","company","salary"];"send-resume"==b.id&&(d=["resume_title","resume_salary","resume_company"]);for(var e=0;e<d.length;e++){var f=a.trim(a("#"+d[e]).val()).length;f?3>f&&c.push({id:d[e],message:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 3-\u0445"}):c.push({id:d[e],message:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"})}return c.length?c:!1}function e(b,c){for(var d=[],e=0;e<b.length;e++){var f=a("#"+b[e].id).parent();d.push("<li>"+a("label[for="+b[e].id+"]").text()+"</li>");var g='<span class="help-block">'+b[e].message+"</span>";f.addClass("has-error"),f.append(g)}var h='<div class="alert alert-danger" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button><strong>\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0448\u0438\u0431\u043a\u0438!</strong><br><br>\u041f\u043e\u043b\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438: <ul>'+d.join("")+"</ul> </div>";a(c).parents("form").prepend(h),a("body").scrollTop(0)}a("body").on("click","#check_key",c);var b='<div id="popover-group"><div class="input-group"><input type="text" id="edit_key" class="form-control input-sm"><span class="input-group-btn"><button class="btn btn-default btn-sm" id="check_key" type="button"> &raquo; </button></span></div>';a(".job__remove").popover({html:!0,content:b,placement:"bottom"}),a("#send-vacancy,#send-resume").click(function(b){var c;return a(".has-error").removeClass("has-error"),a(".help-block").remove(),a(".alert").remove(),(c=d(b.target))?(e(c,b.target),!1):void 0}),a(".job__tabs a").click(function(){return a(this).parent().hasClass("active")?!1:(a(".job__tabs li").toggleClass("active"),a("#content form, .content-header span").toggleClass("is-active"),!1)})});